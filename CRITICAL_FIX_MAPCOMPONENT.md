# ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: MapComponent –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

## üîç –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**–ù–ò–ß–ï–ì–û –ù–ï –†–ê–ë–û–¢–ê–õ–û**, –ø–æ—Ç–æ–º—É —á—Ç–æ **RimWatchMapComponent –ù–ï –ë–´–õ –ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù –≤ –∏–≥—Ä–µ!**

### –ü–æ—á–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å?

1. ‚úÖ **–ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π —Ä–∞–±–æ—Ç–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - WorkAutomation, FarmingAutomation, DefenseAutomation –∏ —Ç.–¥.
2. ‚úÖ **RimWatchMapComponent –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** - —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –≤—ã–∑–æ–≤–∞ `Tick()` –¥–ª—è –≤—Å–µ—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π
3. ‚ùå **–ù–û! RimWorld –ù–ï –ó–ù–ê–õ –ø—Ä–æ MapComponent** - –Ω–µ –±—ã–ª–æ XML-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤ –ø–∞–ø–∫–µ `Defs/`

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –≤ –∏–≥—Ä–µ?

```
1. RimWorld –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥ RimWatch
2. RimWatchMod –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è ‚úÖ
3. Harmony patches –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è ‚úÖ
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è ‚úÖ
5. Hotkeys —Ä–∞–±–æ—Ç–∞—é—Ç ‚úÖ
6. –ù–û! RimWatchMapComponent –ù–ò–ö–û–ì–î–ê –ù–ï –°–û–ó–î–ê–ï–¢–°–Ø ‚ùå
7. –ü–æ—ç—Ç–æ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ù–ò–ö–û–ì–î–ê –ù–ï –í–´–ó–´–í–ê–Æ–¢–°–Ø ‚ùå
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, —á—Ç–æ –º–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω, hotkeys —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ **–Ω–∏–∫–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**, –ø–æ—Ç–æ–º—É —á—Ç–æ `MapComponent.Tick()` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Defs/MapComponentDef.xml` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º XML-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º:

```xml
<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!-- RimWatch MapComponent - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–µ -->
  <Verse.MapComponentDef>
    <defName>RimWatchMapComponent</defName>
    <mapComponentClass>RimWatch.Components.RimWatchMapComponent</mapComponentClass>
  </Verse.MapComponentDef>
</Defs>
```

### –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç?

1. **RimWorld —Ç–µ–ø–µ—Ä—å –ó–ù–ê–ï–¢ –ø—Ä–æ RimWatchMapComponent**
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –µ–≥–æ –Ω–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–µ** (–ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã/—Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–æ–ª–æ–Ω–∏–∏)
3. **–í—ã–∑—ã–≤–∞–µ—Ç `MapComponentTick()` –∫–∞–∂–¥—ã–π –∏–≥—Ä–æ–≤–æ–π —Ç–∏–∫**
4. **RimWatchMapComponent –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** (Work, Building, Farming, Defense, Trade, Medical, Social, Research)

---

## üìä –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã, –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

```
[RimWatch] [MapComponent] FIRST TICK! AutopilotEnabled=True
[RimWatch] [MapComponent] Categories: Work=True, Building=True, Farming=True
[RimWatch] [MapComponent] Defense=True, Trade=True, Medical=True
[RimWatch] [MapComponent] Social=True, Research=True
```

### 2. –ß–µ—Ä–µ–∑ 60 —Ç–∏–∫–æ–≤ (~1 —Å–µ–∫—É–Ω–¥–∞) –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∞—Ç—å –ø–æ—è–≤–ª—è—Ç—å—Å—è –ª–æ–≥–∏ –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π:

```
[RimWatch] üîÑ WorkAutomation: Switched to Manual Priorities (1-4)
[RimWatch] üë∑ WorkAutomation: Cait - Changed 3 priorities:
   ‚Ä¢ Cooking: 3 ‚Üí 1
   ‚Ä¢ Construction: 2 ‚Üí 3
[RimWatch] üèπ FarmingAutomation: Hunting 2 animals (food: 150/200)
   ‚Ä¢ Muffalo (herbivore, meat: 350)
[RimWatch] ‚öîÔ∏è DefenseAutomation: Drafted 1 colonists (enemies: 2)
   ü™ñ Seven (Shooting: 8, assault rifle)
```

### 3. –í –∏–≥—Ä–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∞—Ç—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è:

- ‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–±–æ—Ç –º–µ–Ω—è—é—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–ñ–∏–≤–æ—Ç–Ω—ã–µ –ø–æ–º–µ—á–∞—é—Ç—Å—è –Ω–∞ –æ—Ö–æ—Ç—É/–∑–∞–±–æ–π**
- ‚úÖ **–ö–æ–ª–æ–Ω–∏—Å—Ç—ã –¥—Ä–∞—Ñ—Ç—è—Ç—Å—è –ø—Ä–∏ –∞—Ç–∞–∫–µ**
- ‚úÖ **–ü—Ä–µ–¥–º–µ—Ç—ã forbidden/allowed** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–ó–∞–∫–ª—é—á–µ–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç —Ä–µ–∂–∏–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è** (recruit/release)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å `make deploy`** –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –º–æ–¥–∞ —Å –Ω–æ–≤—ã–º Def
2. **–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–≥—Ä—É** (–∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–ª–æ–Ω–∏—é)
3. **–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø–∏–ª–æ—Ç** (Shift+R ‚Üí Enable Autopilot)
4. **–í–∫–ª—é—á–∏—Ç—å –Ω—É–∂–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
5. **–ù–∞–±–ª—é–¥–∞—Ç—å –ª–æ–≥–∏** - —Ç–µ–ø–µ—Ä—å –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è!
6. **–ù–∞–±–ª—é–¥–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å!

---

## üìù –ó–∞–º–µ—Ç–∫–∏

### –ü–æ—á–µ–º—É —ç—Ç–æ –Ω–µ –±—ã–ª–æ –∑–∞–º–µ—á–µ–Ω–æ —Ä–∞–Ω—å—à–µ?

- **–ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫** ‚úÖ
- **–ú–æ–¥ –∑–∞–≥—Ä—É–∂–∞–ª—Å—è –≤ –∏–≥—Ä—É** ‚úÖ
- **UI —Ä–∞–±–æ—Ç–∞–ª** ‚úÖ
- **–ù–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ù–ï –ó–ê–ü–£–°–ö–ê–õ–ò–°–¨** ‚ùå

–≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–¥–∏–Ω–≥–∞ RimWorld - **–∑–∞–±—ã–ª–∏ —Å–æ–∑–¥–∞—Ç—å XML Def –¥–ª—è MapComponent**.

### –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –≤ –±—É–¥—É—â–µ–º?

1. ‚úÖ **–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å Defs** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (MapComponent, WorldComponent, GameComponent)
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `[MapComponent] FIRST TICK!`
3. ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∏–≥—Ä–µ** —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**  
**–§–∞–π–ª:** `Defs/MapComponentDef.xml`  
**–î–∞—Ç–∞:** 2025-11-07  
**–í–µ—Ä—Å–∏—è:** v0.6.1 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

